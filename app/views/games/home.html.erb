<div>
  <%= form_with model: @new_game, url: games_path, method: :post, class: 'bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4' do |form| %>
    <div class="flex flex-col block text-gray-700 text-sm font-bold mb-1">
      <div class="mb-2">
        <%= form.label :email, "Email:" %>
        <%= form.text_field :email, class: 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline' %>
        <% if @new_game&.errors&.[](:email)&.first&.length&.positive? %>
          <%= form.label :email, "Email #{@new_game.errors[:email].first}", class: 'text-red-600' %>
        <% end %>
      </div>
      <div class="mb-2">
        <%= form.label :width, "Board Width:" %>
        <%= form.number_field :width, in: 1...-1, step: 1, class: 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline' %>
        <% if @new_game&.errors&.[](:width)&.first&.length&.positive? %>
          <%= form.label :width, "Width #{@new_game.errors[:width].first}", class: 'text-red-600' %>
        <% end %>
      </div>
      <div class="mb-2">
        <%= form.label :height, "Board Height:" %>
        <%= form.number_field :height, in: 1...-1, step: 1, class: 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline' %>
        <% if @new_game&.errors&.[](:height)&.first&.length&.positive? %>
          <%= form.label :height, "Height #{@new_game.errors[:height].first}", class: 'text-red-600' %>
        <% end %>
      </div>
      <div class="mb-2">
        <%= form.label :name, "Board Name:" %>
        <%= form.text_field :name, class: 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline' %>
        <% if @new_game&.errors&.[](:name)&.first&.length&.positive? %>
          <%= form.label :name, "Name #{@new_game.errors[:name].first}", class: 'text-red-600' %>
        <% end %>
      </div>
      <div class="mb-6">
        <%= form.label :mines, "Number of mines:" %>
        <%= form.number_field :mines, in: 1...-1, step: 1, class: 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline' %>
        <% if @new_game&.errors&.[](:mines)&.first&.length&.positive? %>
          <%= form.label :mines, "Number of mines #{@new_game.errors[:mines].first}", class: 'text-red-600' %>
        <% end %>
      </div>
      <%= form.submit "Generate Board", class: 'bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline' %>
    </div>
  <% end %>

  <!--  Last 10 games -->
  <div class="flex flex-col gap-y-1 bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
    <h2 class="mb-2"><strong>Last 10 games</strong></h2>

    <%= render "shared/table", games: @games %>

    <%= link_to 'View all generated boards', games_path, class: 'underline' %>

  </div>
</div>
